<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toy Story</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    </style>
</head>
<body>
	<div>
        <img id="logo" src="images/toy-story-logo.png">
    </div>
	<div id="card-container">
	</div>
</body>
<script type="text/javascript">
	console.log("démarrage");
	fetch('datastory.json') /*cherche le fichier json*/
		.then(function(reponse)
				{
				  console.log("ça y est l'entête du fichier est arrivée");
				  console.log("maintenant les datas vont arriver");
				  return reponse.json();
				}
			 )
			.then(function(reponse2)
					{
					  reponse2.forEach(function(element) { /* pour chaque élément du tableau json */
						document.getElementById('card-container').innerHTML += /* écrit dans la div card-container */
		 `<div class="toy-card `+element.fond+`">
            <div class="toy-card__image">
                <!-- l'image png -->
                <img src="`+element.photo +`" alt="`+ element.nom +`">
			</div>
			<div class="toy-card__name `+ element.couleur +`">`+ element.nom +`</div>
			<div class="toy-card__description">
				<!-- La description -->
				<p>`+ element.info +`</p>
			</div>
			<div class="toy-card__unit-stats `+ element.couleur +`">
				<!-- Les caractéristiques -->
				<div class="one-third">
				   <!--Vie-->
					<div class="stat">`+ element.vie +`</div>
					<div class="stat-value">Vie</div>
				</div>

				<div class="one-third">
					<!--Discrétion-->
					<div class="stat">`+ element.discretion +`</div>
					<div class="stat-value">Discrétion</div>
				</div>


				<div class="one-third">
					<!--Action-->
					<div class="stat">`+ element.action + `</div>
					<div class="stat-value">Action</div>
				</div>
			  </div>
			</div>`
						});
					}
				 );
	console.log("suite et fin du script ...");
</script>
</html>